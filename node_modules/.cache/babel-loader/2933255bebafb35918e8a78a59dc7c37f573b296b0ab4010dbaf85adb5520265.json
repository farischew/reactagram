{"ast":null,"code":"var _s = $RefreshSig$();\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../context/firebase\";\nimport UserContext from \"../../context/user\";\nimport { useContext, useState } from \"react\";\nexport default function Actions(_ref) {\n  _s();\n  let {\n    docId,\n    totalLikes,\n    likedPhoto,\n    handleFocus\n  } = _ref;\n  const {\n    user: {\n      uid: userId = \"\"\n    }\n  } = useContext(UserContext);\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const {\n    firebase,\n    FieldValue\n  } = useContext(FirebaseContext);\n  const handleToggleLiked = async () => {\n    setToggleLiked(toggleliked => !toggleLiked);\n    await firebase.firestore().collection(\"photos\").doc(docId).update({\n      likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\n    });\n  };\n  return;\n}\n_s(Actions, \"FCIYLujuvDXyYWsf4Ziz7tPQPI8=\");\n_c = Actions;\nActions.propType = {\n  docId: PropTypes.string.isRequired,\n  totalLikes: PropTypes.number.isRequired,\n  likedPhoto: PropTypes.bool.isRequired\n};\nvar _c;\n$RefreshReg$(_c, \"Actions\");","map":{"version":3,"names":["PropTypes","FirebaseContext","UserContext","useContext","useState","Actions","_ref","_s","docId","totalLikes","likedPhoto","handleFocus","user","uid","userId","toggleLiked","setToggleLiked","likes","setLikes","firebase","FieldValue","handleToggleLiked","toggleliked","firestore","collection","doc","update","arrayRemove","arrayUnion","_c","propType","string","isRequired","number","bool","$RefreshReg$"],"sources":["/Users/admin/Desktop/Projects/reactagram/src/components/post/actions.js"],"sourcesContent":["import PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../context/firebase\";\nimport UserContext from \"../../context/user\";\nimport { useContext, useState } from \"react\";\n\nexport default function Actions({\n  docId,\n  totalLikes,\n  likedPhoto,\n  handleFocus,\n}) {\n  const {\n    user: { uid: userId = \"\" },\n  } = useContext(UserContext);\n\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n\n  const handleToggleLiked = async () => {\n    setToggleLiked((toggleliked) => !toggleLiked);\n\n    await firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        likes: toggleLiked\n          ? FieldValue.arrayRemove(userId)\n          : FieldValue.arrayUnion(userId),\n      });\n  };\n\n  return;\n}\n\nActions.propType = {\n  docId: PropTypes.string.isRequired,\n  totalLikes: PropTypes.number.isRequired,\n  likedPhoto: PropTypes.bool.isRequired,\n};\n"],"mappings":";AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,OAAOC,eAAe,MAAM,wBAAwB;AACpD,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAE5C,eAAe,SAASC,OAAOA,CAAAC,IAAA,EAK5B;EAAAC,EAAA;EAAA,IAL6B;IAC9BC,KAAK;IACLC,UAAU;IACVC,UAAU;IACVC;EACF,CAAC,GAAAL,IAAA;EACC,MAAM;IACJM,IAAI,EAAE;MAAEC,GAAG,EAAEC,MAAM,GAAG;IAAG;EAC3B,CAAC,GAAGX,UAAU,CAACD,WAAW,CAAC;EAE3B,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAACM,UAAU,CAAC;EAC1D,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAACK,UAAU,CAAC;EAC9C,MAAM;IAAEU,QAAQ;IAAEC;EAAW,CAAC,GAAGjB,UAAU,CAACF,eAAe,CAAC;EAE5D,MAAMoB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpCL,cAAc,CAAEM,WAAW,IAAK,CAACP,WAAW,CAAC;IAE7C,MAAMI,QAAQ,CACXI,SAAS,CAAC,CAAC,CACXC,UAAU,CAAC,QAAQ,CAAC,CACpBC,GAAG,CAACjB,KAAK,CAAC,CACVkB,MAAM,CAAC;MACNT,KAAK,EAAEF,WAAW,GACdK,UAAU,CAACO,WAAW,CAACb,MAAM,CAAC,GAC9BM,UAAU,CAACQ,UAAU,CAACd,MAAM;IAClC,CAAC,CAAC;EACN,CAAC;EAED;AACF;AAACP,EAAA,CA7BuBF,OAAO;AAAAwB,EAAA,GAAPxB,OAAO;AA+B/BA,OAAO,CAACyB,QAAQ,GAAG;EACjBtB,KAAK,EAAER,SAAS,CAAC+B,MAAM,CAACC,UAAU;EAClCvB,UAAU,EAAET,SAAS,CAACiC,MAAM,CAACD,UAAU;EACvCtB,UAAU,EAAEV,SAAS,CAACkC,IAAI,CAACF;AAC7B,CAAC;AAAC,IAAAH,EAAA;AAAAM,YAAA,CAAAN,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}