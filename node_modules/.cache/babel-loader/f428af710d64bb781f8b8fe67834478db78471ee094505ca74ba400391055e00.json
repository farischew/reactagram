{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport FirebaseContext from \"../context/firebase\";\nexport default function useAuthListener() {\n  _s();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"authUser\")));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      if (authUser) {\n        localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem(\"authUser\");\n        setUser(null);\n      }\n    });\n    return () => listener();\n  }, [firebase]);\n  return {\n    user\n  };\n}\n_s(useAuthListener, \"QbeyeTuXls5DL/c+0Dx9k4nXk5Y=\");","map":{"version":3,"names":["useContext","useEffect","useState","FirebaseContext","useAuthListener","_s","user","setUser","JSON","parse","localStorage","getItem","firebase","listener","auth","onAuthStateChanged","authUser","setItem","stringify","removeItem"],"sources":["/Users/admin/Desktop/Projects/reactagram/src/hooks/use-auth-listener.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport FirebaseContext from \"../context/firebase\";\n\nexport default function useAuthListener() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"authUser\"))\n  );\n  const { firebase } = useContext(FirebaseContext);\n\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged((authUser) => {\n      if (authUser) {\n        localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem(\"authUser\");\n        setUser(null);\n      }\n    });\n\n    return () => listener();\n  }, [firebase]);\n\n  return { user };\n}\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,OAAOC,eAAe,MAAM,qBAAqB;AAEjD,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACxC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAC9BM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC7C,CAAC;EACD,MAAM;IAAEC;EAAS,CAAC,GAAGZ,UAAU,CAACG,eAAe,CAAC;EAEhDF,SAAS,CAAC,MAAM;IACd,MAAMY,QAAQ,GAAGD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAEC,QAAQ,IAAK;MAChE,IAAIA,QAAQ,EAAE;QACZN,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACF,QAAQ,CAAC,CAAC;QAC1DT,OAAO,CAACS,QAAQ,CAAC;MACnB,CAAC,MAAM;QACLN,YAAY,CAACS,UAAU,CAAC,UAAU,CAAC;QACnCZ,OAAO,CAAC,IAAI,CAAC;MACf;IACF,CAAC,CAAC;IAEF,OAAO,MAAMM,QAAQ,CAAC,CAAC;EACzB,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,OAAO;IAAEN;EAAK,CAAC;AACjB;AAACD,EAAA,CArBuBD,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}